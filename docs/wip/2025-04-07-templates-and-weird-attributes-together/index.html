<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

      <title>Templates and weird attributes together - Antranig Basman</title>

  <meta name="description" content="Trying to put into practice thoughts from the previous two postings on template thinking and weird attributes for event binding revealed some interesting problems.
Firing up ${ }-based templates revealed an awkward problem. This prevents us using backtick template literals in code since these automatically interpret ${} syntax and so will break as soon as they are evaluated.
At the same time, use of @click style event binding revealed a really interesting limitation.">
  <meta name="author" content="Antranig Basman"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Antranig Basman",
    
    "url": "https:\/\/ponder.org.uk"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/ponder.org.uk"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/ponder.org.uk",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/ponder.org.uk\/wip\/2025-04-07-templates-and-weird-attributes-together\/",
          "name": "Templates and weird attributes together"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Antranig Basman"
  },
  "headline": "Templates and weird attributes together",
  "description" : "Trying to put into practice thoughts from the previous two postings on template thinking and weird attributes for event binding revealed some interesting problems.\nFiring up ${ }-based templates revealed an awkward problem. This prevents us using backtick template literals in code since these automatically interpret ${} syntax and so will break as soon as they are evaluated.\nAt the same time, use of @click style event binding revealed a really interesting limitation.",
  "inLanguage" : "en",
  "wordCount":  440 ,
  "datePublished" : "2025-04-07T00:00:00\u002b00:00",
  "dateModified" : "2025-04-07T00:00:00\u002b00:00",
  "image" : "https:\/\/ponder.org.uk\/img\/pond.jpg",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/ponder.org.uk\/wip\/2025-04-07-templates-and-weird-attributes-together\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/ponder.org.uk",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/ponder.org.uk\/img\/pond.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>


<meta property="og:title" content="Templates and weird attributes together" />
<meta property="og:description" content="Trying to put into practice thoughts from the previous two postings on template thinking and weird attributes for event binding revealed some interesting problems.
Firing up ${ }-based templates revealed an awkward problem. This prevents us using backtick template literals in code since these automatically interpret ${} syntax and so will break as soon as they are evaluated.
At the same time, use of @click style event binding revealed a really interesting limitation.">
<meta property="og:image" content="https://ponder.org.uk/img/pond.jpg" />
<meta property="og:url" content="https://ponder.org.uk/wip/2025-04-07-templates-and-weird-attributes-together/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Antranig Basman" />

  <meta name="twitter:title" content="Templates and weird attributes together" />
  <meta name="twitter:description" content="Trying to put into practice thoughts from the previous two postings on template thinking and weird attributes for event binding revealed some interesting problems.
Firing up ${ }-based templates …">
  <meta name="twitter:image" content="https://ponder.org.uk/img/pond.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@amb26ponder" />
  <meta name="twitter:creator" content="@amb26ponder" />
  <link href='https://ponder.org.uk/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.121.0">
  <link rel="alternate" href="https://ponder.org.uk/index.xml" type="application/rss+xml" title="Antranig Basman"><link rel="stylesheet" href="../../css/katex.min.css" />
  <link rel="stylesheet" href="../../fontawesome/css/all.min.css" />
  <link rel="stylesheet" href="../../css/bootstrap.min.css" /><link rel="stylesheet" href="../../css/main.css" />
  <link rel="stylesheet" href="../../css/highlight.min.css" /><link rel="stylesheet" href="../../css/codeblock.css" /><link rel="stylesheet" href="../../css/ponder.css" />

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-ponder">
      <a class="navbar-ponder-brand" href="../../">Antranig Basman</a>
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <svg width="36" height="36" viewBox="0 0 24 24" stroke="#888" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 7L4 7" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M20 12L4 12" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M20 17L4 17" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </button>


      <div class="collapse navbar-collapse" id="main-navbar">
        <ul class="nav navbar-nav navbar-right">
          
          
          <li>
            <a title="Posts" href="../../post">Posts</a>
          </li>
          
          
          
          <li>
            <a title="WiP" href="../../wip">WiP</a>
          </li>
          
          
          
          <li>
            <a title="About" href="../../page/about/">About</a>
          </li>
          
          
          
          <li>
            <a title="Communities" href="../../communities">Communities</a>
          </li>
          
          
          
          <li>
            <a title="Projects" href="../../projects">Projects</a>
          </li>
          
          
          
          <li>
            <a title="Terms" href="../../term">Terms</a>
          </li>
          
          

          

          
        </ul>
      </div>
    </div>

  </div>
</nav>




    
  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="header-row">
          

            <div class="wip-heading">
              
                <h1>Templates and weird attributes together  </h1>
              
              
                <hr class="small">
              
              

            </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post">
        <p>Trying to put into practice thoughts from the previous two postings on <a href="../../wip/2025-04-03-change-of-tack-on-templating">template thinking</a>
and <a href="../../wip/2025-04-04-staring-at-the-wand">weird attributes</a> for event binding revealed some interesting problems.</p>
<p>Firing up <code>${ }</code>-based templates revealed an awkward problem. This prevents us using
backtick template literals in code since these automatically interpret <code>${}</code> syntax and so will break as soon
as they are evaluated.</p>
<p>At the same time, use of <code>@click</code> style event binding revealed a really interesting limitation. Whilst it is perfect
possible to parse overall HTML documents containing weird attributes like these, <em>and</em> it is possible to assign them
into the document in bulk using <code>innerHTML</code> or <code>createContextualFragment</code> these may <em>not</em> be set on individual nodes using a
call to <code>node.setAttribute</code>. There is an amazing inconsistency that the latter is subject to a special
check leading to an error <code>@click is not a valid attribute name</code>. Which it is not, of course –
<a href="https://stackoverflow.com/questions/925994/what-characters-are-allowed-in-an-html-attribute-name">this posting</a> holds
a pointer to the documentation on a valid <a href="https://www.w3.org/TR/xml/#NT-Name">XML name</a> which shows these are highly
restricted. They can only begin with a colon (boo!), underscore or letter character.</p>
<p>Which makes it amazing that there are so many routes for getting such invalid attribute names into the document in the
first place, and supplies a clue to why Vue supports two syntaxes (<code>v-on:click</code> and <code>@click</code>).</p>
<p>However, once we fixed up the obviously broken logic, the test cases pass again leading us to ponder that there is really
no need to manipulate such attributes in the DOM in the first place as long as the standard routes for getting bulk
markup into the DOM for templating are workable. Who knows exactly what the original thinking in Vue was but it makes
a lot of sense for us to support just one syntax. DOM reconciliation only needs to work for properly extended material –
stuff actually forming the live part of the UI.</p>
<p>Leaving the original templating issue on the table. Given we shirk <code>{{}}</code> because we want to render Hugo templates,
and shirk <code>${}</code> because we want to use backticks in code, our attribute syntax suggests we go for <code>@{}</code> which
whilst a bit funny is not unheard of – looks like the most popular second choice is Ruby&rsquo;s <code>#{}</code>.
We want something delimited since the original Infusion syntax based on <code>%name</code>
was annoying based on not wanting to restrict the character set which appeared in interpolated keys.</p>
<p>But the pair of choices based on <code>@key</code> in attribute names and <code>@{}</code> in text seem to work well together – a clear visual
indicator that interpolated material in markup begins with <code>@</code> as against interpolated material in JSON beginning
with <code>$</code>.</p>


        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        
        <a href="https://bsky.app/intent/compose?text=Just&#43;reading&#43;a&#43;post&#43;called&#43;Templates&#43;and&#43;weird&#43;attributes&#43;together&#43;on&#43;Antranig&#43;Basman%27s&#43;blog%3A&#43;https%3A%2F%2Fponder.org.uk%2Fwip%2F2025-04-07-templates-and-weird-attributes-together%2F" target="_blank" title="Share on BlueSky">
          <i class="fab fa-fw fa-bluesky"></i>
        </a>
      </li>

      
      <li>
        <a href="https://twitter.com/share?url=https%3a%2f%2fponder.org.uk%2fwip%2f2025-04-07-templates-and-weird-attributes-together%2f&amp;text=Templates%20and%20weird%20attributes%20together&amp;via=amb26ponder" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>

      
      <li>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fponder.org.uk%2fwip%2f2025-04-07-templates-and-weird-attributes-together%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>

      
      <li>
        <a href="https://reddit.com/submit?url=https%3a%2f%2fponder.org.uk%2fwip%2f2025-04-07-templates-and-weird-attributes-together%2f&amp;title=Templates%20and%20weird%20attributes%20together" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>

      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fponder.org.uk%2fwip%2f2025-04-07-templates-and-weird-attributes-together%2f&amp;title=Templates%20and%20weird%20attributes%20together" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>

    </ul>
  </div>
  

              </div>
            </section>
        

        
          

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="../../wip/2025-04-04-staring-at-the-wand/" data-toggle="tooltip" data-placement="top" title="Staring at the wand">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      

      

      
        
      

    </div>
  </div>
</div>

      <footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="credits copyright text-muted">
          
            
              <a href="../../">Antranig Basman</a>
            
          
          &nbsp;&copy;
          2025

        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.121.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> &nbsp;&bull;&nbsp; further <a href="../../term/lithification">lithified</a> by Boz
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="../../js/katex.min.js"></script>
<script defer src="../../js/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<script src="../../js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>








    
  </body>
</html>
